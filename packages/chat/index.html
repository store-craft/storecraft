<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Storecraft Chat</title>
  </head>
  <body class="bg-gray-800">
    <div id="root"></div>
    <script type="module" dsrc="/src/auto-mount.ts">
      import { mountChatApp, mountStorecraftChat } from '/src/index.tsx';

      const { threadId } = Object.fromEntries(
        new URLSearchParams(window.location.search)
      );

      console.log({ threadId });
      
      mountChatApp(
        document.getElementById('root'), 
        {
          config: {
            chat: {
              threadId,
              storecraft_config: {
                endpoint: 'http://10.100.102.104:8000',
              },
              apply_default_background_style: true,
              default_dark_mode: true
            },
          }
          // className: 'h-dvh w-[400px] bg-gray-100 dark:bg-gray-800'
        }
      );
    </script>
  </body>
</html>
