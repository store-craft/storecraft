# Serverless Email Providers

**Storecraft** officially supports the following serverless friendly
email providers.

Through the `@storecraft/mailer-providers-http` package.

- [Sendgrid](https://docs.sendgrid.com/api-reference/mail-send/mail-send)
- [Resend](https://resend.com/docs/api-reference/emails/send-email)
- [Mailchimp](https://mailchimp.com/developer/transactional/api/messages/send-new-message/)
- [Mailgun](https://documentation.mailgun.com/en/latest/api-sending.html#examples)

## Sendgrid

```js
import { MailerSendGrid } from '@storecraft/mailer-providers-http/sendgrid';

const mailer = new MailerSendGrid(
  {
      apikey: process.env.SEND_GRID_SECRET
  }
);


let { success, native_response } = await mailer.email(
  {
    from: {name: 'bob ðŸ‘»', address: process.env.FROM_EMAIL },
    to: [ { address: process.env.TO_EMAIL } ], 
    subject: 'subject test', 
    text: 'plain text test', 
    html: '<p>html test</p>', 
  }
);

```

## Resend
```js
import { MailerResend } from '@storecraft/mailer-providers-http/resend';

const mailer = new MailerResend(
  {
      apikey: process.env.RESEND_API_KEY
  }
);

let { success, native_response } = await mailer.email(
  {
    from: {name: 'bob ðŸ‘»', address: process.env.FROM_EMAIL },
    to: [ { address: process.env.TO_EMAIL } ],
    subject: 'subject test',
    text: 'plain text test',
    html: '<p>html test</p>',
  }
);

```


## Mailchimp

```js
import { MailerMailChimp } from '@storecraft/mailer-providers-http/mailchimp';

const mailer = new MailerMailChimp(
  {
      apikey: process.env.MAILCHIMP_API_KEY
  }
);

let { success, native_response } = await mailer.email(
  {
    from: {name: 'bob ðŸ‘»', address: process.env.FROM_EMAIL },
    to: [ { address: process.env.TO_EMAIL } ], 
    subject: 'subject test', 
    text: 'plain text test', 
    html: '<p>html test</p>', 
  }
);

```


## Mailgun

```js
import { MailerMailgun } from '@storecraft/mailer-providers-http/mailgun';

const mailer = new MailerMailgun(
  {
      apikey: process.env.MAILGUN_API_KEY
  }
);

let { success, native_response } = await mailer.email(
  {
    from: {name: 'bob ðŸ‘»', address: process.env.FROM_EMAIL },
    to: [ { address: process.env.TO_EMAIL } ], 
    subject: 'subject test', 
    text: 'plain text test', 
    html: '<p>html test</p>', 
  }
);

```

## In Storecraft App

```js
import { App } from '@storecraft/core';
import { MongoDB, migrateToLatest } from '@storecraft/database-mongodb-node';
import { NodePlatform } from '@storecraft/platforms/node';
import { GoogleStorage } from '@storecraft/storage-google';
import { MailerSendGrid } from '@storecraft/mailer-providers-http/sendgrid';

let app = new App(
  new NodePlatform(),
  new MongoDB(),
  new GoogleStorage(), 
  new MailerSendGrid(
    {
      apikey: process.env.SEND_GRID_SECRET
    }
  ), 
  {
    auth_admins_emails: ['admin@sc.com'],
    auth_password_hash_rounds: 100,
    auth_secret_access_token: 'auth_secret_access_token',
    auth_secret_refresh_token: 'auth_secret_refresh_token'
  }
);
  
await app.init();
await migrateToLatest(app.db, false);

```
