# **Storecraft** Local FileSystem Storage for node, deno and bun

Local filesystem based **Storage** for `node.js` / `Deno` / `Bun`.

Features:
- Supports streaming `Get` / `Put` / `Delete`

## Node.js

```ts
import { NodeLocalStorage } from '@storecraft/core/storage/node';
import { NodePlatform } from '@storecraft/core/platform/node';
import { App } from '@storecraft/core';
 
const app = new App()
.withPlatform(new NodePlatform())
.withDatabase(new MongoDB())
.withStorage(
  new NodeLocalStorage(join(homedir(), 'storage'))
).init();

await migrateToLatest(app.__show_me_everything.db, false);
```

Then, you can upload with

```js
await app.storage.putBlob(
  'folder1/tomer.txt',
  new Blob(['this is some text from tomer :)'])
);
```

or the more recommended way

```js
await app.api.storage.putBlob(
  'folder1/tomer.txt',
  new Blob(['this is some text from tomer :)'])
);
```

## Deno

```ts
import { DenoLocalStorage } from '@storecraft/core/storage/deno';
import { DenoPlatform } from '@storecraft/core/platform/deno';
import { App } from '@storecraft/core';
 
const app = new App()
.withPlatform(new DenoPlatform())
.withDatabase(new MongoDB())
.withStorage(
  new DenoLocalStorage(join(homedir(), 'storage'))
)
.init();

await migrateToLatest(app.__show_me_everything.db, false);
```

Then, you can upload with

```js
await app.storage.putBlob(
  'folder1/tomer.txt',
  new Blob(['this is some text from tomer :)'])
);
```

or the more recommended way

```js
await app.api.storage.putBlob(
  'folder1/tomer.txt',
  new Blob(['this is some text from tomer :)'])
);
```

## Bun

```ts
import { BunLocalStorage } from '@storecraft/core/storage/bun';
import { BunPlatform } from '@storecraft/core/platform/bun';
import { App } from '@storecraft/core';
 
const app = new App()
.withPlatform(new BunPlatform())
.withDatabase(new MongoDB())
.withStorage(
  new BunLocalStorage(join(homedir(), 'storage'))
)
.init();

await migrateToLatest(app.__show_me_everything.db, false);
```

Then, you can upload with

```js
await app.storage.putBlob(
  'folder1/tomer.txt',
  new Blob(['this is some text from tomer :)'])
);
```

or the more recommended way

```js
await app.api.storage.putBlob(
  'folder1/tomer.txt',
  new Blob(['this is some text from tomer :)'])
);
```
